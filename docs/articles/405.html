<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <title>Pythonクックブックを読んでいる(4) | 旧それなりブログ</title>
  </head>
  <body>
    <header>
      <p>旧それなりブログの跡地</p>
      <nav>
        <ul>
          <li><a href="/old-sorenari-blog/">トップ</a></li>
          <li><a href="https://kjirou.github.io/blog/">新ブログ</a></li>
          <li><a href="https://github.com/kjirou/old-sorenari-blog/">GitHub</a></li>
        </ul>
      </nav>
    </header>
    <article>
      <section>
        <h1>Pythonクックブックを読んでいる(4)</h1>
        <p>2009年3月1日</p>
      </section>
      <section>
        <div>
<a href="http://kjirou.sakura.ne.jp/mt/2009/02/python3.html" onclick="_gaq.push(['_trackEvent', 'outbound-article', 'http://kjirou.sakura.ne.jp/mt/2009/02/python3.html', '＜＜ 前回']);" ><b>＜＜ 前回</b></a> |<br />
<a href="http://kjirou.sakura.ne.jp/mt/2009/03/python5_1.html" onclick="_gaq.push(['_trackEvent', 'outbound-article', 'http://kjirou.sakura.ne.jp/mt/2009/03/python5_1.html', '次回 ＞＞']);" ><b>次回 ＞＞</b></a></p>
<p>1日に2章も読んでやったぜ!! と思ってたら、日が（ついでに月も）変わってた畜生<br />

</div>
<p></p>
<div>
<b>【4章 ショートカット】</b></p>
<p><b>1. リスト内包表記に条件文を足せるのを忘れてた</b></p>
<pre>
&gt;&gt;&gt; [i for i in range(0,5) if i % 2 == 0]
[0, 2, 4]
</pre>
<p>「あー、<b>リスト内包表記に条件が付けられればいい</b>なぁ！」とか、素で考えてた・・・。</p>
<p>・・・と、それはさておき、以下は本に書いてあった言葉なんすが<br />
「リストにループを掛けたいだけであれば、内包を使うべきではない。<br />
　ループがしたいならループを書くことだ。」<br />
うーん、いいこと言うなぁー。</p>
<p><b>2. map</b></p>
<pre>
&gt;&gt;&gt; def foo(x):
...     return x * x
...
&gt;&gt;&gt; map(foo, range(0, 5))
[0, 1, 4, 9, 16]
</pre>
<p>こんなのもあったのか・・・てか、想像付くだろうよ</p>
<p><b>3. dict.setdefault</b><br />
dict.getの代入版みたいなもの</p>
<p><b>4. dictのキーをキーワード引数で足す</b></p>
<pre>
&gt;&gt;&gt; dict({'a':1, 'b':2}, c=3, d=4)
{'a': 1, 'c': 3, 'b': 2, 'd': 4}
</pre>
<p>
<b>5. dictのキーにintが使える</b></p>
<pre>
&gt;&gt;&gt; d = {'a':1, 22:'b'}
&gt;&gt;&gt; d
{'a': 1, 22: 'b'}
&gt;&gt;&gt; d[22]
'b'
</pre>
<p>int以外も使えるのかもだけど未確認<br />
使いどころは不明</p>
<p><b>6. (key, value)でdictを生成</b></p>
<pre>
&gt;&gt;&gt; dict([['a', 1], ['b', 2]])
{'a': 1, 'b': 2}
</pre>
<p>
<b>7. dictのキーをクラスの属性に変える</b><br />
d[&#8216;foo&#8217;]は書くのが面倒でしょ？ だったらこうするといいよ！<br />
・・・という話らしい。</p>
<pre>
class Bunch(object):
def __init__(self, **kwargs):
self.__dict__.update(kwargs)
b = Bunch(foo=123, bar="BAR!", baz=[1, 2, 3])
print b.foo
print b.bar
print b.baz
</pre>
<p>多分、こういう風に使うことは無いとは思うが、__dict__の理解には役立った。
</div>
<p></p>
<div>
以上っす。</p>
<p>Pythonは急遽やることになったため、<br />
「とりあえず、期日までに動くものを！」という感じで、本当に単純な記法に絞って勉強してた。<br />
・・・んだったなぁ、というのを思い出させていただいた章でした。
</div>

      </section>
    </article>
  </body>
</html>
