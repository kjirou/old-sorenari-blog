<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <title>IEで複数行選択のselect要素を作る | 旧それなりブログ</title>
  </head>
  <body>
    <header><p>旧それなりブログの跡地、画像やスタイルやJSなどが壊れてることがあります。</p>
<nav>
  <ul>
    <li><a href="/old-sorenari-blog/">トップ</a></li>
    <li><a href="https://kjirou.github.io/blog/">新ブログ</a></li>
    <li><a href="https://github.com/kjirou/old-sorenari-blog/">GitHub</a></li>
  </ul>
</nav></header>
    <article>
      <section>
        <h1>IEで複数行選択のselect要素を作る</h1>
        <p>2007年5月18日</p>
      </section>
      <section>
        <div>
javascriptのIE6用クロスブラウザ対応の話です。</p>
<p>仕事でjavascriptを使うと普段はスルーしていた<br />
だるい部分をスルーできなくなり、必然的にこういう内容が多くなります。
</div>
<div>
普通の複数行選択select要素の作成方法</p>
<pre>
var select = document.createElement("select");
select.multiple = true;
alert(select.type); // "select-multiple"
</pre>
<p>XP-FireFox1.5とMac-Safari2で確認しました。
</p></div>
<div>
糞XP-IE6の場合</p>
<pre>
var select = document.createElement("&lt;select multiple&gt;");
alert(select.type); // "select-multiple";
</pre>
<p>multiple属性にtrueを入れる方法だと、クリックでの複数行選択はできるようになりますが<br />
option.selectedにJSでtrueを入れる方法で複数行選択をしようとすると、最後の1行しか選択されない。
</div>
<div>
ここ↓のエントリーに無茶苦茶助けられました。感謝すぎる<br />
それはBooks &#8211; <a href="http://hamasyou.com/archives/Engineer-Soul/naa.php#DOM%20%A4%C7%CA%A3%BF%F4%C1%AA%C2%F2%B2%C4%C7%BD%A4%CA%A5%EA%A5%B9%A5%C8%A5%DC%A5%C3%A5%AF%A5%B9%A4%F2%BA%EE%C0%AE%A4%B9%A4%EB%A1%CAIE%A1%CB" onclick="_gaq.push(['_trackEvent', 'outbound-article', 'http://hamasyou.com/archives/Engineer-Soul/naa.php#DOM%20%A4%C7%CA%A3%BF%F4%C1%AA%C2%F2%B2%C4%C7%BD%A4%CA%A5%EA%A5%B9%A5%C8%A5%DC%A5%C3%A5%AF%A5%B9%A4%F2%BA%EE%C0%AE%A4%B9%A4%EB%A1%CAIE%A1%CB', 'DOM で複数選択可能なリストボックスを作成する（IE）']);" >DOM で複数選択可能なリストボックスを作成する（IE）</a>
</div>
<div>
2hハマり<br />
・・・てか、作業時間の半分ぐらいIEへの対応でつぶれれてるんだけど。
</div>

      </section>
    </article>
  </body>
</html>
